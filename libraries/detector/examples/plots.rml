<?xml version="1.0" encoding="UTF-8" standalone="no" ?>

<!-- This plot template shows an example of analysisPlot implementation.
     The file where we have applied a signalAnalysisProcess name sgnl.Ana -->
<TRestManager name="Plots" title="Plot Test" verboseLevel="info" >

  <TRestAnalysisPlot name="plot" title="Basic Plots">

    <!-- Here you can add as many files as you want through a config file using addFile -->
    <!--
    <addFile name="${REST_INPUT_FILE}" />
    <addFile name="${REST_INPUT_FILE2}" />
    -->

    <parameter name="plotMode" value="compare" />
    <!-- plotModes available : compare, add -->

    <canvas size="(1000,800)" divide="(2,2)" save="/tmp/R[RUN]_S[SUBRUN].pdf" />

    <globalCut name="Some_Analysis_Variable" condition="&lt;50" value="OFF" />

    <plot name="Baseline" title="Baseline average" xlabel="Baseline [ADC units]" ylabel="Counts"
            logscale="false" value="ON" >
      <source name="sAna_BaseLineMean" range="(0,1000)" nbins="100" />
    </plot>

    <plot name="Spectrum" title="ADC energy spectrum" xlabel="Threshold integral energy [ADC units]" ylabel="Counts"
            logscale="true" value="ON" >
      <source name="sAna_ThresholdIntegral" range="(10,100000)" nbins="1000" />
    </plot>

    <plot name="Hitmap" title="Hitmap (from hitsAnalysis)" xlabel="X [mm]" ylabel="Y [mm]"
          logscale="false"  value="OFF" >
      <source name="hitsAna_yMean" range="(0,200)" nbins="1000" />
      <source name="hitsAna_xMean" range="(0,200)" nbins="1000" />
    </plot>

    <plot name="Spectrum2" title="Spectrum (single tracks)" xlabel="Threshold integral energy [ADC units]" ylabel="Counts"
          logscale="true"  value="OFF" >
      <source name="sgnlAna.ThresholdIntegral" range="(0,100000)" nbins="1000" />

      <cut source="tckAna_nTracksX" condition="==1" value="ON" />
      <cut source="tckAna_nTracksY" condition="==1" value="ON" />
    </plot>

  </TRestAnalysisPlot>

  <addTask command="plot->PlotCombinedCanvas()" value="ON"/>

</TRestManager>